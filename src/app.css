@import "tailwindcss";

@theme {
  --color-surface: #ffffff;
  --color-surface-alt: #f8fafc;
  --color-surface-hover: #f1f5f9;
  --color-border: #e2e8f0;
  --color-border-focus: #6366f1;
  --color-text: #0f172a;
  --color-text-secondary: #64748b;
  --color-text-muted: #94a3b8;
  --color-primary: #6366f1;
  --color-primary-hover: #4f46e5;
  --color-primary-light: #eef2ff;
  --color-danger: #ef4444;
  --color-success: #22c55e;
  --color-warning: #f59e0b;
}

@custom-variant dark (&:where(.dark, .dark *));

/* Base styles */
html {
  font-family: "Inter", ui-sans-serif, system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 17px;

  @media (width >= theme(--breakpoint-sm)) {
    font-size: 16px;
  }
}

body {
  @apply bg-surface-alt text-text min-h-screen transition-colors duration-200;
}

.dark body {
  @apply bg-[#0c0f1a] text-slate-100;
}

/* Dark mode overrides via CSS variables */
.dark {
  --color-surface: #1e293b;
  --color-surface-alt: #0c0f1a;
  --color-surface-hover: #334155;
  --color-border: #334155;
  --color-border-focus: #818cf8;
  --color-text: #f1f5f9;
  --color-text-secondary: #94a3b8;
  --color-text-muted: #64748b;
  --color-primary: #818cf8;
  --color-primary-hover: #6366f1;
  --color-primary-light: #1e1b4b;
}

/* Prose overrides for markdown content */
.prose-result {
  @apply leading-relaxed;
  font-family: "Adamina", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
}

.prose-result h1, .prose-result h2, .prose-result h3,
.prose-result h4, .prose-result h5, .prose-result h6 {
  @apply font-semibold text-text mt-6 mb-3;
}

.prose-result h1 { @apply text-2xl; }
.prose-result h2 { @apply text-xl; }
.prose-result h3 { @apply text-lg; }

.prose-result p {
  @apply mb-4 text-text;
}

.prose-result ul, .prose-result ol {
  @apply mb-4 pl-6;
}

.prose-result ul { @apply list-disc; }
.prose-result ol { @apply list-decimal; }

.prose-result li {
  @apply mb-1;
}

.prose-result code {
  @apply bg-surface-hover text-primary px-1.5 py-0.5 rounded text-sm font-mono;
}

.prose-result pre {
  @apply bg-surface-hover rounded-lg p-4 mb-4 overflow-x-auto;
}

.prose-result pre code {
  @apply bg-transparent p-0;
}

.prose-result blockquote {
  @apply border-l-4 border-primary pl-4 italic text-text-secondary mb-4;
}

.prose-result a {
  @apply text-primary underline underline-offset-2 hover:text-primary-hover;
}

.prose-result strong {
  @apply font-semibold text-text;
}

.prose-result hr {
  @apply border-border my-6;
}

.prose-result table {
  @apply w-full border-collapse mb-4;
}

.prose-result th, .prose-result td {
  @apply border border-border px-3 py-2 text-left;
}

.prose-result th {
  @apply bg-surface-hover font-semibold;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-border rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-text-muted;
}

/* Streaming cursor animation */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.streaming-cursor::after {
  content: "â–Š";
  @apply text-primary ml-0.5;
  animation: blink 1s step-end infinite;
}
